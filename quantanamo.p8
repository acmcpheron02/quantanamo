pico-8 cartridge // http://www.pico-8.com
version 39
__lua__

#include actors.p8
#include player.p8
#include util.p8

pal({[0]=0,2,15,136,1,129,140,12,14,7,137,10,128,133,6,5},1)
poke(0x5f2e,1)

function _init()
  make_player(110, 60)
  make_camera(44,-44)
  rot=27/360
end

function _update60()
	rot-=7/360
	x_btn:update()
	player.update()
	follow_player()
end

function _draw()

	cls(12)
	cam.draw_camera()
	map( 3, 0, cam.x/3, cam.y/3, 1024, 512)

	sspr(24, 0, 16, 16, 64, 94, 32, 32)
	pd_rotate(80, 110, rot, 1, 1, 3, false, 2)

	sspr(0, 16, 10, 10, 90, 60)


	pd_rotate(80, 110, rot, 2.5, 10, 10, false, 1)

	player.draw()
end

__gfx__
00aaa00a0070000070000000000000555500000000000000000110338800000000000088ffffffff000000000000000000000000000000000000000000000000
00aaaaa00700000700077770000055666655000000000000001113833300000000000033ffffffff000000000000000000000000000000000000000000000000
0bbbaaa00700007007700007000566444466500000000000033333832333000000003332ffffffff000000000000000000000000000000000000000000000000
bbbbbaaa0700070000000000005644555544650000000000039393832223331111333222ff000000000000000000000000000000000000000000000000000000
bbbb9baa0700700007770000056445666654465000311000337373312222233333322222ff000000000000000000000000000000000000000000000000000000
bbb9bbaa0070700070007000056456444465465000311000333333102222223333222222ff000000000000000000000000000000000000000000000000000000
bbbbbb000070707797000700564564455446546500311000183331002222223333222222ff000000000000000000000000000000000000000000000000000000
abbbb0007000079997000070564564566546546500311100011111002222223333222222ff000000000000000000000000000000000000000000000000000000
00aaa00a0700007999700007564564566546546500331100000000332222223333222222ff000000000000000000000000000000000000000000000000000000
00aaaaa00070007977070700564564455446546500031100003331830222223333222220ff000000000000000000000000000000000000000000000000000000
0bb9aaa00007000700070700056456444465465000031100803733830222223333222220ff000000000000000000000000000000000000000000000000000000
bb9bbaaa0000777000070070056445666654465000331100333933830022223333222200ff000000000000000000000000000000000000000000000000000000
bbbbbbaa0000000000700070005644555544650003311100333333310022233333322200ff000000000000000000000000000000000000000000000000000000
bbbbbbaa7000077007000070000566444466500003111100033333300002331111332000ff000000000000000000000000000000000000000000000000000000
bbbbbb000777700070000070000055666655000001111100001333100883100000013880ff000000000000000000000000000000000000000000000000000000
abbbb0000000000700000700000000555500000000111000000111000080000000000800ff000000000000000000000000000000000000000000000000000000
00aaaa000a00000000000000000000000000008800000031130000000000000000311130ff000000000000000000000000000000000000000000000000000000
00aaaaa0a000000000000000000000000000003300000333333000000000000001333330ff000000000000000000000000000000000000000000000000000000
0bbbbaaa0000000000000000000000000000333200003333333300000009981111233330ff000000000000000000000000000000000000000000000000000000
0bb9bbaaa000000000000000000000001113322200003233332300000009980002333330ffdddddd000000000000000000000000000000000000000000000000
bb9bbbbaaa00000000000000800001111333222200003233332300000008833333333330ffdddddd000000000000000000000000000000000000000000000000
bbbbbbbbaa00000000000000833333333322222200033233332330000000000002233330ffdddddd000000000000000000000000000000000000000000000000
bbbbbbbbaa00000000000000022222333322222200032233332230000000000002233330ffffffff000000000000000000000000000000000000000000000000
bbbbbbbbaa00000000000000022222333322222200032233332230000000000002233310ffffffff000000000000000000000000000000000000000000000000
abbbbbbb000000000000000000222233332222200088223333228800000000000233330000000000000000000000000000000000000000000000000000000000
aabbbb00000000000000000000022233333222000008223333228000000080002333310000000000000000000000000000000000000000000000000000000000
00000000000000000000000000002233333220000000233113320000000811111333300000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000223333300800000033003300000000000003331000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000023111333000000030000300000000008033100000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000003300000800000030000300000000083310000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000333800000000880000880000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000008000000000080000800000000000000000000000000000000000000000000000000000000000000000000000000000
56456456654654650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
56456445544654650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05645644446546500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05644566665446500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00564455554465000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00056644446650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005566665500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000055550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00003310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03333310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03133110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00011033000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111383000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03333383000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03d3d383000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33c3c333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
31333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88000000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33330000000033330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd3333333333ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddd33333333dddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd333333dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd333333dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ddddd3333ddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0ddddd3333ddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000929292929292929292929292929292929292929292929292929292929292000000000000000000000000000000000000000000000000000000000000
0ddddd3333ddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000909090909090909090909090909090909090909090909090909090909090000000000000000000000000000000000000000000000000000000000000
00dddd3333dddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000919191919191919191919191919191919191919191919191919191919191000000000000000000000000000000000000000000000000000000000000
000dd333333dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000929292929292929292929292929292929292929292929292929292929292000000000000000000000000000000000000000000000000000000000000
00800000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000909090909090909090909090909090909090909090909090909090909090000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000919191919191919191919191919191919191919191919191919191919191000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000929292929292929292929292929292929292929292929292929292929292000000000000000000000000000000000000000000000000000000000000
__map__
0102000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1112000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000160000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000027280000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000037380000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000292929292929292929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000090909090909090909090909090909090909090909090909090909090909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000191919191919191919191919191919191919191919191919191919191919000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
